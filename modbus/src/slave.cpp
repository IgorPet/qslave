#include    "slave.h"

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
Slave::Slave(QObject *parent) : QObject(parent)
{

}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
Slave::~Slave()
{

}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void Slave::setID(int id)
{
    this->id = id;
}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
quint8 Slave::getID() const
{
    return id;
}

//------------------------------------------------------------------------------
//
//------------------------------------------------------------------------------
void Slave::processData(QByteArray data)
{
    request_t   request;

    request.id = static_cast<quint8>(data.at(0));

    if (id == request.id)
    {
        request.func = static_cast<quint8>(data.at(1));

        request.address = static_cast<quint16>(data.at(2)) << 8;
        request.address = static_cast<quint16>(data.at(3));

        request.count = static_cast<quint16>(data.at(4)) << 8;
        request.count = static_cast<quint16>(data.at(5));
    }
}
